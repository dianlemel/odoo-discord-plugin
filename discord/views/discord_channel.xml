<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- List View -->
        <record id="discord_channel_config_view_list" model="ir.ui.view">
            <field name="name">discord.channel.config.list</field>
            <field name="model">discord.channel.config</field>
            <field name="arch" type="xml">
                <list editable="bottom">
                    <field name="channel_type"/>
                    <field name="channel_id"/>
                    <field name="name"/>
                </list>
            </field>
        </record>

        <!-- Search View -->
        <record id="discord_channel_config_view_search" model="ir.ui.view">
            <field name="name">discord.channel.config.search</field>
            <field name="model">discord.channel.config</field>
            <field name="arch" type="xml">
                <search>
                    <field name="channel_id"/>
                    <field name="channel_type"/>
                    <field name="name"/>
                    <filter name="filter_bind" string="綁定" domain="[('channel_type', '=', 'bind')]"/>
                    <filter name="filter_points" string="點數查詢" domain="[('channel_type', '=', 'points')]"/>
                    <filter name="filter_admin" string="管理員" domain="[('channel_type', '=', 'admin')]"/>
                    <separator/>
                    <filter name="group_by_type" string="依類型分組" context="{'group_by': 'channel_type'}"/>
                </search>
            </field>
        </record>

        <!-- Action -->
        <record id="discord_channel_config_action" model="ir.actions.act_window">
            <field name="name">頻道設定</field>
            <field name="res_model">discord.channel.config</field>
            <field name="view_mode">list</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    新增頻道設定
                </p>
                <p>
                    設定各類型指令允許執行的 Discord 頻道
                </p>
            </field>
        </record>

        <!-- Menu -->
        <menuitem id="discord_menu_root"
                  name="Discord"
                  sequence="100"/>

        <menuitem id="discord_menu_config"
                  name="設定"
                  parent="discord_menu_root"
                  sequence="10"/>

        <menuitem id="discord_menu_channel_config"
                  name="頻道設定"
                  parent="discord_menu_config"
                  action="discord_channel_config_action"
                  sequence="10"/>
    </data>
</odoo>
